!function(e){function t(e){return"function"==typeof e}function n(e){var n=this,i={input:null,timeout:500,processing:!1,triggers:["keyup","blur"],change:function(e){n.change.call(n,e)}};"object"!=typeof e&&(e={});for(var o in i)void 0===e[o]&&(e[o]=i[o]);!function(e,n,i){if(null!==e){"string"==typeof e?(e=document.getElementById(e))||(e=document.querySelector(e)):"object"==typeof e&&void 0!==e[0]&&"string"==typeof e[0].value&&(e=e[0]);var o=function(){t(i)&&i(this.value)};"string"==typeof n&&(n=[n]);for(var s in n)e.removeEventListener(n[s],function(){}),e.addEventListener(n[s],o,!1)}}(e.input,e.triggers,e.change),this.options=e,this.increment=0,this.processing=!1,this.oldValue="",this.value="",this.timeout=void 0,this._events={change:function(){},empty:function(){},skip:function(){},process:function(){},complete:function(){},value:function(e){return e}}}n.prototype.on=function(e,n){var i=this;return t(n)&&t(this._events[e])&&(this._events[e]=function(){return n.apply(i,arguments)}),i},n.prototype.change=function(e){try{this._events.skip(e),clearTimeout(this.timeout)}catch(e){}var t=this;this.timeout=setTimeout(function(){switch(t.value=t._events.value("string"==typeof e?e:""),(t.increment<1||""!=t.oldValue)&&""==e&&t._events.empty(),t.value){case"":t._events.skip(t.value);break;case t.oldValue:break;default:if(t.options.processing&&(!t.options.processing||t.processing))return t._events.skip(t.value);t.options.processing&&(t.processing=!0,t._events.process()),++t.increment,t._events.change(e,function(){t.processing=!1,t._events.complete.call(t)})}t.oldValue=t.value},this.options.timeout)},e.TypAsync=n}("undefined"!=typeof module&&module.exports?module.exports:window);